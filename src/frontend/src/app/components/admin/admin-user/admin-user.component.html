<mat-tab-group #tabs (selectedTabChange)="tabChanged($event)">
  <mat-tab label="Liste">
    <app-table #table [service]="userService" [columns]="columns" [sortColumn]="sortColumn" [actionTemplate]="actionTemplate" [filters]="filters"></app-table>

    <ng-template #actionTemplate let-data="data">
      <button mat-icon-button matTooltip="Éditer" (click)="edit(data)"><i class="fa fa-pen"></i></button>
    </ng-template>
  </mat-tab>
  <mat-tab label="{{data.id ? 'Édition' : 'Création'}}">
    <mat-card>
      <mat-card-content>
        <form [formGroup]="form" (submit)="save()">
          <div>
            <mat-form-field appearance="fill">
              <mat-label>Login</mat-label>
              <input matInput formControlName="login" />
            </mat-form-field>
          </div>

          <div>
            <mat-form-field appearance="fill">
              <mat-label>Nom</mat-label>
              <input matInput formControlName="nom" />
            </mat-form-field>
          </div>

          <div>
            <mat-form-field appearance="fill">
              <mat-label>Prénom</mat-label>
              <input matInput formControlName="prenom" />
            </mat-form-field>
          </div>

          <div>
            <mat-form-field appearance="fill">
              <mat-label>Rôles</mat-label>
              <mat-select formControlName="roles" multiple [compareWith]="compareRole">
                <mat-option *ngFor="let role of roles" [value]="role">{{role.code|roleLibelle}}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>

          <div>
            <mat-checkbox formControlName="actif">Actif</mat-checkbox>
          </div>

          <div>
            <button mat-flat-button color="primary">Valider</button>
          </div>
        </form>
      </mat-card-content>
    </mat-card>
  </mat-tab>
</mat-tab-group>
