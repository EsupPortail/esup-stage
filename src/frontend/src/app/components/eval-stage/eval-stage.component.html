<app-table [service]="conventionService" [columns]="columns" [sortColumn]="sortColumn" [filters]="filters" [sortOrder]="sortDirection"
           matSort [matSortActive]="sortColumn" [matSortDirection]="'desc'" (matSortChange)="appTable ? appTable.sorting($event) : null"
           [noResultText]="'Aucune fiche d\'évaluation trouvée'">

  <ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear="true">N°</th>
    <td mat-cell *matCellDef="let row">{{row.id}}</td>
  </ng-container>
  <ng-container matColumnDef="etudiant.prenom">
    <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear="true">Étudiant</th>
    <td mat-cell *matCellDef="let row">{{row.etudiant.prenom + ' ' + row.etudiant.nom}}</td>
  </ng-container>
  <ng-container matColumnDef="structure.raisonSociale">
    <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear="true">Établissement</th>
    <td mat-cell *matCellDef="let row">{{row.structure ? row.structure.raisonSociale : ''}}</td>
  </ng-container>
  <ng-container matColumnDef="dateDebutStage">
    <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear="true">Date début du stage</th>
    <td mat-cell *matCellDef="let row">{{row.dateDebutStage|date:'shortDate'}}</td>
  </ng-container>
  <ng-container matColumnDef="dateFinStage">
    <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear="true">Date fin du stage</th>
    <td mat-cell *matCellDef="let row">{{row.dateFinStage|date:'shortDate'}}</td>
  </ng-container>
  <ng-container matColumnDef="ufr.libelle">
    <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear="true">UFR</th>
    <td mat-cell *matCellDef="let row">{{row.ufr ? row.ufr.libelle : ''}}</td>
  </ng-container>
  <ng-container matColumnDef="etape.libelle">
    <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear="true">Étape d'étude</th>
    <td mat-cell *matCellDef="let row">{{row.etape ? row.etape.libelle : ''}}</td>
  </ng-container>
  <ng-container matColumnDef="annee">
    <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear="true">Année univ.</th>
    <td mat-cell *matCellDef="let row">{{row.annee}}</td>
  </ng-container>
  <ng-container matColumnDef="reponseEvaluation.validationEtudiant">
    <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear="true">Évaluation par l'étudiant</th>
    <td mat-cell *matCellDef="let row">{{row.reponseEvaluation ? row.reponseEvaluation.validationEtudiant : ''}}</td>
  </ng-container>
  <ng-container matColumnDef="action">
    <th mat-header-cell *matHeaderCellDef>Actions</th>
    <td mat-cell *matCellDef="let row">
      <button type="button" mat-icon-button matTooltip="Visualiser" color="primary" (click)="goToConvention(row.id)"><i class="fa fa-eye"></i></button>
    </td>
  </ng-container>
</app-table>
