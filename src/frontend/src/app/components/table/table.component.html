<mat-card *ngIf="filters.length > 0" class="table-filters">
  <mat-card-content>
    <form>
      <div class="row">
        <mat-form-field class="col-md-3" appearance="fill" *ngFor="let filter of filters">
          <mat-label>{{filter.libelle}}</mat-label>
          <ng-container [ngSwitch]="filter.type">
            <ng-container *ngSwitchCase="'boolean'">
              <mat-select [name]="filter.id" [(ngModel)]="filterValues[filter.id].value" (ngModelChange)="update()">
                <mat-option></mat-option>
                <mat-option [value]="true">Oui</mat-option>
                <mat-option [value]="false">Non</mat-option>
              </mat-select>
            </ng-container>
            <ng-container *ngSwitchCase="'list'">
              <mat-select [name]="filter.id" multiple [(ngModel)]="filterValues[filter.id].value" (ngModelChange)="update()">
                <mat-option *ngFor="let option of filter.options" [value]="option[filter.keyId]">{{option[filter.keyLibelle]}}</mat-option>
              </mat-select>
            </ng-container>
            <ng-container *ngSwitchCase="'temEnServ'">
              <mat-select [name]="filter.id" [(ngModel)]="filterValues[filter.id].value" (ngModelChange)="update()">
                <mat-option></mat-option>
                <mat-option [value]="'O'">Oui</mat-option>
                <mat-option [value]="'N'">Non</mat-option>
              </mat-select>
            </ng-container>
            <ng-container *ngSwitchDefault>
              <input matInput [name]="filter.id" [(ngModel)]="filterValues[filter.id].value" (ngModelChange)="update()" />
            </ng-container>
          </ng-container>
        </mat-form-field>
      </div>
      <div class="row">
        <div class="col-sm-12 col-md-6">
          <button mat-button mat-flat-button color="primary" *ngIf="actionButton" (click)="actionButton.action()">{{actionButton.libelle}}</button>
        </div>
        <div class="col-sm-12 col-md-6 text-right" [hidden]="hideDeleteFilters">
          <button mat-button mat-stroked-button (click)="reset()">Supprimer les filtres</button>
        </div>
      </div>
    </form>
  </mat-card-content>
</mat-card>

<mat-paginator *ngIf="pagination"
               [pageSizeOptions]="[10, 25, 50, 100]"
               [pageSize]="pageSize"
               [length]="total"
               [showFirstLastButtons]="true"
               (page)="changePaginator($event)"></mat-paginator>

<table mat-table [dataSource]="data">
  <ng-content></ng-content>

  <tr mat-header-row *matHeaderRowDef="columns"></tr>
  <tr mat-row *matRowDef="let row; columns: columns;"></tr>

</table>

<mat-paginator *ngIf="pagination"
               [pageSizeOptions]="[10, 25, 50, 100]"
               [pageSize]="pageSize"
               [length]="total"
               [showFirstLastButtons]="true"
               (page)="changePaginator($event)"></mat-paginator>
