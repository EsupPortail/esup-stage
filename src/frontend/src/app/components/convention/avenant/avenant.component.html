<mat-accordion>
  <mat-expansion-panel [expanded]="true">
    <mat-expansion-panel-header>
      <mat-panel-title>CrÃ©ation d'un nouvel avenant</mat-panel-title>
    </mat-expansion-panel-header>
    <app-avenant-form [convention]="convention" [avenant]="{}" (validated)="updateAvenants()"></app-avenant-form>
  </mat-expansion-panel>

  <mat-expansion-panel [disabled]="avenants.length == 0" [expanded]="false">
    <mat-expansion-panel-header>
      <mat-panel-title>Avenants existants</mat-panel-title>
    </mat-expansion-panel-header>
    <mat-accordion>
      <mat-expansion-panel *ngFor="let avenant of avenants" [expanded]="false">
        <mat-expansion-panel-header>
          <mat-panel-title>{{avenant.titreAvenant}}</mat-panel-title>
        </mat-expansion-panel-header>
        <app-avenant-form [convention]="convention" [avenant]="avenant" (validated)="updateAvenants()"></app-avenant-form>
      </mat-expansion-panel>
    </mat-accordion>
  </mat-expansion-panel>
</mat-accordion>
