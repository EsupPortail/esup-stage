<mat-card>
  <mat-card-content>
    <form [formGroup]="form" novalidate>
      <div class="mt-3 mb-3">

        <div class="text-title">Modèle de la convention</div>
        <mat-divider class="mb-2"></mat-divider>
        <div class="row">
          <mat-form-field class="col-sm-12 col-md-6 mb-2" appearance="fill">
            <mat-label>Langue de la convention</mat-label>
            <mat-select formControlName="codeLangueConvention" required>
              <mat-option *ngFor="let langueConvention of langueConventions" [value]="langueConvention.code">{{langueConvention.libelle}}</mat-option>
            </mat-select>
            <mat-error><app-form-error [field]="form.get('codeLangueConvention')"></app-form-error></mat-error>
          </mat-form-field>

          <mat-form-field class="col-sm-12 col-md-6 mb-2" appearance="fill">
            <mat-label>Pays de la convention</mat-label>
            <mat-select formControlName="idPays" required>
              <mat-option *ngFor="let country of countries" [value]="country.id">{{country.libelle}}</mat-option>
            </mat-select>
            <mat-error><app-form-error [field]="form.get('idPays')"></app-form-error></mat-error>
          </mat-form-field>
        </div>

        <div class="text-title">Description du stage</div>
        <mat-divider class="mb-2"></mat-divider>
        <div class="row">
          <mat-form-field class="col-sm-12 col-md-6 mb-2" appearance="fill">
            <mat-label>Thèmatique du stage</mat-label>
            <mat-select formControlName="idTheme" required>
              <mat-option *ngFor="let thematique of thematiques" [value]="thematique.id">{{thematique.libelle}}</mat-option>
            </mat-select>
            <mat-error><app-form-error [field]="form.get('idTheme')"></app-form-error></mat-error>
          </mat-form-field>
        </div>
        <div class="row">
          <mat-form-field class="col-sm-12 col-md-6 mb-2" appearance="fill">
            <mat-label>Sujet</mat-label>
            <textarea matInput formControlName="sujetStage" required ></textarea>
            <mat-error><app-form-error [field]="form.get('sujetStage')"></app-form-error></mat-error>
          </mat-form-field>
          <mat-form-field class="col-sm-12 col-md-6 mb-2" appearance="fill">
            <mat-label>Compétences</mat-label>
            <textarea matInput formControlName="competences" required ></textarea>
            <mat-error><app-form-error [field]="form.get('competences')"></app-form-error></mat-error>
          </mat-form-field>
          <mat-form-field class="col-sm-12 col-md-6 mb-2" appearance="fill">
            <mat-label>Fonctions et tâches</mat-label>
            <textarea matInput formControlName="fonctionsEtTaches" required ></textarea>
            <mat-error><app-form-error [field]="form.get('fonctionsEtTaches')"></app-form-error></mat-error>
          </mat-form-field>
          <mat-form-field class="col-sm-12 col-md-6 mb-2" appearance="fill">
            <mat-label>Détails</mat-label>
            <textarea matInput formControlName="details"></textarea>
            <mat-error><app-form-error [field]="form.get('sujet')"></app-form-error></mat-error>
          </mat-form-field>
        </div>

        <div class="text-title">Dates / horaires</div>
        <mat-divider class="mb-2"></mat-divider>
        <div class="row">
          <mat-form-field class="col-sm-12 col-md-6 mb-2" appearance="fill">
            <mat-label>Date de début du stage</mat-label>
            <input matInput [matDatepicker]="dateDebutStagePicker" formControlName="dateDebutStage" required >
            <mat-datepicker-toggle matSuffix [for]="dateDebutStagePicker"></mat-datepicker-toggle>
            <mat-datepicker #dateDebutStagePicker></mat-datepicker>
          </mat-form-field>
          <mat-form-field class="col-sm-12 col-md-6 mb-2" appearance="fill">
            <mat-label>Date de fin du stage</mat-label>
            <input matInput [matDatepicker]="dateFinStagePicker" formControlName="dateFinStage" required >
            <mat-datepicker-toggle matSuffix [for]="dateFinStagePicker"></mat-datepicker-toggle>
            <mat-datepicker #dateFinStagePicker></mat-datepicker>
          </mat-form-field>

          <div class="col-sm-12 col-md-12 mb-2">
            <div class="mb-2">Interruption au cours du stage ?</div>
            <mat-radio-group formControlName="interruptionStage">
              <mat-radio-button [value]="true">Oui</mat-radio-button>
              <mat-radio-button [value]="false">Non</mat-radio-button>
            </mat-radio-group>
          </div>
        </div>

        <div class="row" *ngIf="form.value.interruptionStage">
          <mat-form-field class="col-sm-12 col-md-6 mb-2" appearance="fill">
            <mat-label>Date de début d'interruption du stage </mat-label>
            <input matInput [matDatepicker]="dateDebutInterruptionPicker" formControlName="dateDebutInterruption" required >
            <mat-datepicker-toggle matSuffix [for]="dateDebutInterruptionPicker"></mat-datepicker-toggle>
            <mat-datepicker #dateDebutInterruptionPicker></mat-datepicker>
          </mat-form-field>
          <mat-form-field class="col-sm-12 col-md-6 mb-2" appearance="fill">
            <mat-label>Date de fin d'interruption du stage </mat-label>
            <input matInput [matDatepicker]="dateFinInterruptionPicker" formControlName="dateFinInterruption" required >
            <mat-datepicker-toggle matSuffix [for]="dateFinInterruptionPicker"></mat-datepicker-toggle>
            <mat-datepicker #dateFinInterruptionPicker></mat-datepicker>
          </mat-form-field>
        </div>

        <div class="row">
          <mat-form-field class="col-sm-12 col-md-6 mb-2" appearance="fill">
            <mat-label>Temps de travail</mat-label>
            <mat-select formControlName="idTempsTravail" required>
              <mat-option *ngFor="let tempsTravail of tempsTravails" [value]="tempsTravail.id">{{tempsTravail.libelle}}</mat-option>
            </mat-select>
            <mat-error><app-form-error [field]="form.get('idTempsTravail')"></app-form-error></mat-error>
          </mat-form-field>
          <mat-form-field class="col-sm-12 col-md-6 mb-2" appearance="fill">
            <mat-label>Commentaire sur le temps de travail</mat-label>
            <textarea matInput formControlName="commentaireDureeTravail"></textarea>
            <mat-error><app-form-error [field]="form.get('commentaireDureeTravail')"></app-form-error></mat-error>
          </mat-form-field>
        </div>

        <div class="text-title">Gratification</div>
        <mat-divider class="mb-2"></mat-divider>
        <div class="row">
          <div class="col-sm-12 col-md-12 mb-2">
            <div class="mb-2">Gratification au cours du stage ?</div>
            <mat-radio-group formControlName="gratificationStage">
              <mat-radio-button [value]="true">Oui</mat-radio-button>
              <mat-radio-button [value]="false">Non</mat-radio-button>
            </mat-radio-group>
          </div>
        </div>
        <div class="row" *ngIf="form.value.gratificationStage">
          <mat-form-field class="col-sm-6 col-md-6 mb-2" appearance="fill">
            <mat-label>Montant de la gratification</mat-label>
            <input matInput formControlName="montantGratification" required />
            <mat-error><app-form-error [field]="form.get('montantGratification')"></app-form-error></mat-error>
          </mat-form-field>
          <mat-form-field class="col-sm-3 col-md-3 mb-2" appearance="fill">
            <mat-select formControlName="idUniteGratification" required>
              <mat-option *ngFor="let uniteGratification of uniteGratifications" [value]="uniteGratification.id">{{uniteGratification.libelle}}</mat-option>
            </mat-select>
            <mat-error><app-form-error [field]="form.get('idUniteGratification')"></app-form-error></mat-error>
          </mat-form-field>
          <mat-form-field class="col-sm-3 col-md-3 mb-2" appearance="fill">
            <mat-select formControlName="idUniteDuree" required>
              <mat-option *ngFor="let uniteDuree of uniteDurees" [value]="uniteDuree.id">{{uniteDuree.libelle}}</mat-option>
            </mat-select>
            <mat-error><app-form-error [field]="form.get('idUniteDuree')"></app-form-error></mat-error>
          </mat-form-field>
          <mat-form-field class="col-sm-12 col-md-6 mb-2" appearance="fill">
            <mat-label>Monnaie utilisée pour le paiement</mat-label>
            <mat-select formControlName="idDevise" required>
              <mat-option *ngFor="let devise of devises" [value]="devise.id">{{devise.libelle}}</mat-option>
            </mat-select>
            <mat-error><app-form-error [field]="form.get('idDevise')"></app-form-error></mat-error>
          </mat-form-field>
          <mat-form-field class="col-sm-12 col-md-6 mb-2" appearance="fill">
            <mat-label>Modalité de versement de la gratification</mat-label>
            <mat-select formControlName="idModeVersGratification" required>
              <mat-option *ngFor="let modeVersGratification of modeVersGratifications" [value]="modeVersGratification.id">{{modeVersGratification.libelle}}</mat-option>
            </mat-select>
            <mat-error><app-form-error [field]="form.get('idModeVersGratification')"></app-form-error></mat-error>
          </mat-form-field>
        </div>

      </div>
    </form>
  </mat-card-content>
</mat-card>
